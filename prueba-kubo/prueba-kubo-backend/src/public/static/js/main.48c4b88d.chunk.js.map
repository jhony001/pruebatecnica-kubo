{"version":3,"sources":["components/MovieCard.jsx","components/Home.jsx","components/Movie.jsx","App.js","reportWebVitals.js","index.js"],"names":["MovieCard","props","className","src","this","image","Component","Home","state","movies","handleSelectSearch","bind","handleSearch","fetch","then","response","json","setState","data","console","log","e","value","target","title","document","getElementById","method","body","JSON","stringify","headers","AppBar","position","Toolbar","onChange","id","placeholder","type","onClick","style","cursor","map","movie","to","url_caratula","Movie","ratingValue","snackBarOpen","snackmessage","viewedChecked","handleRateChange","handleClose","handleViewChange","params","match","calificacion","vista","event","newValue","status","message","reason","checked","fecha_estreno","substring","duracion","descripcion","Rating","name","precision","Switch","width","height","url_trailer","frameborder","allow","allowfullscreen","Snackbar","open","autoHideDuration","onClose","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.48c4b88d.chunk.js","sourcesContent":["import React, {Component} from \"react\";\r\nimport \"../Styles.css\";\r\n\r\nclass MovieCard extends Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"card\">\r\n                <img src={this.props.image} className=\"card-image\" />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default MovieCard;","import React, { Component } from \"react\";\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport MovieCard from \"./MovieCard\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass Home extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n          movies: []\r\n        }\r\n    \r\n        this.handleSelectSearch = this.handleSelectSearch.bind(this);\r\n        this.handleSearch = this.handleSearch.bind(this);\r\n      }\r\n    \r\n      componentDidMount(){\r\n        fetch(\"http://localhost:3000/movies\")\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          this.setState({movies: json.data});\r\n          console.log(this.state.movies);\r\n        })\r\n      }\r\n    \r\n      handleSelectSearch(e){\r\n        let value = e.target.value;\r\n        value = value === \"All\" ? \"\":value;\r\n        fetch(`http://localhost:3000/movies/${value}`)\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          this.setState({movies: []});\r\n          this.setState({movies: json.data});\r\n          console.log(this.state.movies);\r\n        })\r\n      }\r\n\r\n\r\n      handleSearch(){\r\n          let data = {\r\n              title: document.getElementById(\"search-input\").value\r\n          }\r\n          fetch(\"http://localhost:3000/movies/search\", {\r\n              method: 'post',\r\n              body: JSON.stringify(data),\r\n              headers: {\r\n                  \"Content-Type\":\"application/json\"\r\n              }\r\n          })\r\n          .then(response => response.json())\r\n          .then(json => {\r\n              this.setState({movies: json.data});\r\n          })\r\n      }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <AppBar position=\"static\">\r\n                    <Toolbar>\r\n                        <span className=\"title\">Kubo Movies</span>\r\n                        <select onChange={this.handleSelectSearch} className=\"search-control\">\r\n                            <option value=\"All\">Todas</option>\r\n                            <option value=\"Accion\">Accion</option>\r\n                            <option value=\"Terror\">Terror</option>\r\n                            <option value=\"Drama\">Drama</option>\r\n                            <option value=\"Biograficas\">Biograficas</option>\r\n                            <option value=\"Ciencia Ficcion\">Ciencia Ficcion</option>\r\n                            <option value=\"Comedia\">Comedia</option>\r\n                            <option value=\"Romance\">Romance</option>\r\n                        </select>\r\n                        <input id=\"search-input\" placeholder=\"Buscar pelicula\" type=\"search\" className=\"search-control\"></input>\r\n                        <button onClick={this.handleSearch} style={{cursor: \"pointer\"}} className=\"search-control\">Buscar</button>\r\n                    </Toolbar>\r\n                </AppBar>\r\n                <div className=\"movies-container\">\r\n                    {this.state.movies.map(function (movie) {\r\n                        return <Link to={`/movie/${movie.title}`} key={`1${movie.id}`}>\r\n                            <MovieCard title={movie.title} image={movie.url_caratula} key={movie.id} />\r\n                        </Link>\r\n                    })}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Home;","import React, { Component } from \"react\";\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport \"../Styles.css\";\r\n\r\nclass Movie extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            movie: {},\r\n            ratingValue: 1,\r\n            snackBarOpen: false,\r\n            snackmessage: \"\",\r\n            viewedChecked: false\r\n        }\r\n        this.handleRateChange = this.handleRateChange.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleViewChange = this.handleViewChange.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { match: { params } } = this.props;\r\n        console.log(params.title);\r\n        let data = {\r\n            title: params.title\r\n        }\r\n        fetch(\"http://localhost:3000/movies/search\", {\r\n            method: 'post',\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n            .then(response => response.json())\r\n            .then(json => {\r\n                this.setState({ movie: json.data[0] })\r\n                this.setState({ratingValue: json.data[0].calificacion});\r\n                if(json.data[0].vista != null){\r\n                    if(json.data[0].vista.data[0] === 1){\r\n                        this.setState({viewedChecked: true});\r\n                    } else {\r\n                        this.setState({viewedChecked: false});\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    handleRateChange(event, newValue){\r\n        this.setState({ratingValue: newValue});\r\n        let data = {\r\n            calificacion: newValue,\r\n            id: this.state.movie.id\r\n        }\r\n        fetch(\"http://localhost:3000/movies/ratemovie\", {\r\n            method: 'post',\r\n            body:JSON.stringify(data),\r\n            headers: {\r\n                \"Content-Type\":\"application/json\"\r\n            }\r\n        })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n            if(json.status === 1){\r\n                this.setState({snackBarOpen: true, snackmessage: \"Calificacion guardada correctamente\"});\r\n            } else {\r\n                console.log(json.message);\r\n            }\r\n        })\r\n    }\r\n\r\n    handleClose(event, reason){\r\n        if(reason === \"clickaway\"){\r\n            return;\r\n        }\r\n        this.setState({snackBarOpen: false, snackmessage: \"\"});\r\n    }\r\n\r\n    handleViewChange(event){\r\n        console.log(event.target.checked);\r\n        this.setState({viewedChecked: event.target.checked});\r\n        let data = {\r\n            id: this.state.movie.id\r\n        }\r\n        if(event.target.checked){\r\n            fetch(\"http://localhost:3000/movies/checkasviewed\", {\r\n                method: 'post',\r\n                body: JSON.stringify(data),\r\n                headers: {\r\n                    \"Content-Type\":\"application/json\"\r\n                }\r\n            })\r\n            .then(response => response.json())\r\n            .then(json => {\r\n                if(json.status === 1){\r\n                    this.setState({snackBarOpen: true, snackmessage: \"Esta pelicula se ha marcado como vista\"});\r\n                }\r\n            })\r\n        } else {\r\n            fetch(\"http://localhost:3000/movies/checkasnotviewed\", {\r\n                method: 'post',\r\n                body: JSON.stringify(data),\r\n                headers: {\r\n                    \"Content-Type\":\"application/json\"\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"movie-header\">\r\n                    <img src={this.state.movie.url_caratula} />\r\n                    <div className=\"movie-info\">\r\n                        <h2><b>Titulo: </b>{this.state.movie.title}</h2>\r\n                        <h3><b>Fecha de estreno: </b>{this.state.movie.fecha_estreno ? this.state.movie.fecha_estreno.substring(0, 10) : \"desconocida\"}</h3>\r\n                        <h3><b>Duracion: </b>{this.state.movie.duracion}</h3>\r\n                        <h3><b>Sinopsis: </b></h3>\r\n                        <p>{this.state.movie.descripcion}</p>\r\n\r\n                        <h3><b>Califica esta pelicula:</b></h3>\r\n                        <Rating\r\n                            name={`Calificacion de ${this.state.movie.title}`}\r\n                            value={this.state.ratingValue}\r\n                            precision={1}\r\n                            onChange={this.handleRateChange}\r\n                        />\r\n                        <h3><b>Marcar como vista: </b> <Switch checked={this.state.viewedChecked} onChange={this.handleViewChange} /></h3>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <h2>Trailer</h2>\r\n                    <iframe width=\"860\" height=\"515\" src={this.state.movie.url_trailer} frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\r\n                </div>\r\n                <Snackbar open={this.state.snackBarOpen} autoHideDuration={2000} onClose={this.handleClose}>\r\n                    <MuiAlert onClose={this.handleClose}>\r\n                        {this.state.snackmessage}\r\n                    </MuiAlert>\r\n                </Snackbar>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Movie;","\nimport './App.css';\nimport \"./Styles.css\";\nimport {Component} from 'react';\nimport {Switch, Route} from \"react-router\";\nimport Home from './components/Home';\nimport Movie from './components/Movie';\n\nclass App extends Component {\n\n  render(){\n    return (\n      <div className=\"App\">\n        <Switch>\n          <Route exact path=\"/\" component={Home}/>\n          <Route path=\"/movie/:title\" component={Movie}/>\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}